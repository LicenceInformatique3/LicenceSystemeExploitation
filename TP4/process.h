#ifndef __PROCESS_H
#define __PROCESS_H

#include "cpu.h"

#define MAX_PROCESS (20) /* nb maximum de processus */
#define EMPTY		(0)	/* processus non-pret */
#define READY 		(1)	/* processus pret */
#define SLEEP 		(2)	/* processus endormit */
#define GETCHAR 	(3)	/* processus en état getchar */

typedef struct{
	PSW cpu;	/* mot d'état du processeur */
	int state;	/* etat du processus */
	int number; /* numéro du processus */
	int waketime; /* heure de reveil */
}Process; //processus

Process processes[MAX_PROCESS]; // table processus
int current_process; /* numero du processus courant */

void process_init();

void setProcessReady(int numProcess, PSW cpu);

void nextProcess();

Process* process_alloc();

void process_wake_all_by_state(int state);

#endif
